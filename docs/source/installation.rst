.. _Boost: http://www.boost.org/users/download/
.. _Perl: https://www.perl.org/
.. _Python: https://www.python.org/
.. _RSEM: https://github.com/deweylab/RSEM
.. _EggNOG-Emapper: https://github.com/jhcepas/eggnog-mapper
.. _DIAMOND: https://github.com/bbuchfink/diamond
.. _GeneMarkS-T: http://exon.gatech.edu/GeneMark/
.. _CMake: https://cmake.org/

Installation
==================
EnTAP is packaged with all of the software necessary to fully annotate a set of transcripts.  It is optimized to allow a single-command execution for all steps in the pathway, including paramterization by the user.  EnTAP does not have a graphical user interface but it does generate visual summaries for the user at each stage as well as detailed summary files and logs.   

#. :ref:`System Requirements<dep-label>`
#. :ref:`Dependency Check<dep-label>`
#. :ref:`Pipeline Software<pipe-label>`
#. :ref:`EnTAP<entap-label>`

Before full EnTAP installation, dependencies must be checked to see if they are included in your system (many are by default) and the accompanying pipeline software will need to be installed (unless is already present on the system).


.. _dep-label:

Dependency Check
------------------
Before continuing on in the installation process, ensure that the following dependencies are fully installed on your system:

    * C++11 compiler (GCC 4.8.1 or later)
    * CMake_
    * Boost_ C++ Libraries (1.50 or later)
        * Ensure this is installed with the C++11 compiler
    * Perl_
    * Python_ with support for the following modules
        * SQLITE
        * Matplotlib (figures generated by EnTAP)
    * Unix wget (generally included in most distros)
    * Unix gzip (generally included in most distros)


.. _pipe-label:

Pipeline Software
------------------
EnTAP leverages several software distributions within the pipeline to provide the best quality annotations. Not all of the software is required, but it is suggested. However, similarity searching and orthologous group assignment should not be skipped. 

.. note:: If the software is already installed on your system, this stage can be skipped

Software:
    * RSEM_ (Expression Filtering with alignment file)
    * GeneMarkS-T_ (Frame Selection)
    * DIAMOND_ (Similarity Search)
    * EggNOG-Emapper_ (Orthologous Group Assignment)

If you have downloaded the full repository from the GitLab page, each of these (with the exception of GeneMarkS-T) are contained within the /libs directory. GeneMarkS-T must be acquired from the website linked previously due to licensing (free for academic use). 


RSEM and DIAMOND both require compilation from source code while EggNOG-Emapper does not. To compile these, run the script within the main directory: 

.. code-block :: bash

    ./setup.sh


This will make+install DIAMOND and make RSEM. 

.. warning:: Ensure that DIAMOND was properly installed (global installation required by EggNOG-Emapper)

If there are any problems with the setup script, installation steps can be found on the GitHub pages for each. 

.. _entap-label:

EnTAP Installation
----------------------

Once dependencies and pipeline software have been installed, you can now continue to install EnTAP! Within the main directory, execute the following command:

.. code-block :: bash

    cmake

This will generate a MakeFile. Then execute:

.. code-block :: bash

    make

Or to install:

.. code-block :: bash

    make install

This will complete the installation process. You are ready to start using EnTAP!
