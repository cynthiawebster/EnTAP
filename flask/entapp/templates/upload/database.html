{% extends "base.html" %}
{% import "wtf.html" as wtf %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.0/min/dropzone.min.css">
{% endblock %}

{% block title %}{{ super() }} - Upload Databases{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mt-4">Databases</h1>
    <h2 class="mt-3">Upload</h2>
    <form action="{{ url_for('main.uploadDatabase') }}" method="POST" class="dropzone border border-primary" id="dropper">
        <div class="dz-message needsclick">
            <button type="button" class="dz-button font-italic">Drop files here or click to upload.</button>
        </div>
    </form>
    <small class="text-secondary muted">Uploaded files will not show themselves on the below databases list unless this page is refreshed. Do not refresh the page until all files are finished uploading.</small>
    <h2 class="mt-5">Remote Upload</h2>
    {{ wtf.quick_form(remoteUploadForm,url_for('main.uploadRemoteDatabase')) }}
    <h2 class="mt-5">Databases</h2>
    {{ wtf.quick_form(fileListForm) }}
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.0/min/dropzone.min.js"></script>
<script type="application/javascript">
    Dropzone.options.dropper = {
        paramName: 'file'
        ,chunking: true
        ,forceChunking: true
        ,maxFilesize: 100000
        ,chunkSize: 1000000
    }
</script>
{% endblock %}
